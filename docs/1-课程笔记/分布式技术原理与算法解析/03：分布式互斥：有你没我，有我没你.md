属于这部分：
![](../../img/Pasted%20image%2020220911122742.png)

## 什么是分布式互斥

在分布式系统里，排他性的资源访问方式，叫作**分布式互斥（Distributed Mutual Exclusion），而这种被互斥访问的共享资源就叫作**临界资源（Critical Resource）。

## 霸道总裁：集中式算法
我们引入一个协调者程序，得到一个分布式互斥算法。每个程序在需要访问临界资源时，先给协调者发送一个请求。如果当前没有程序使用这个资源，协调者直接授权请求程序访问；否则，按照先来后到的顺序为请求程序“排一个号”。如果有程序使用完资源，则通知协调者，协调者从“排号”的队列里取出排在最前面的请求，并给它发送授权消息。拿到授权消息的程序，可以直接去访问临界资源。

这个互斥算法，就是我们所说的**集中式算法**，也可以叫做中央服务器算法。之所以这么称呼，是因为协调者代表着集中程序或中央服务器。

![](../../img/Pasted%20image%2020220911123241.png)

## 民主协商：分布式算法
当一个程序要访问临界资源时，先向系统中的其他程序发送一条请求消息，在接收到所有程序返回的同意消息后，才可以访问临界资源。其中，请求消息需要包含所请求的资源、请求者的 ID，以及发起请求的时间。

这，就是民主协商法。**在分布式领域中，我们称之为分布式算法，或者使用组播和逻辑时钟的算法。**
## 轮值 CEO：令牌环算法